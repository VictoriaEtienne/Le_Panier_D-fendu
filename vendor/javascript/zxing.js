var e={},t=false;var r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew(){if(t)return e;t=true;!function(){var t=e=function(e,n){var i=dew$1();if(null==n||0==n.length)throw"System.ArgumentException";(this||r).field=e;var a=n.length;if(a>1&&0==n[0]){var s=1;while(s<a&&0==n[s])s++;if(s==a)(this||r).coefficients=e.Zero.coefficients;else{(this||r).coefficients=new Array(a-s);for(var o=0;o<(this||r).coefficients.length;o++)(this||r).coefficients[o]=0;for(var h=0;h<(this||r).coefficients.length;h++)(this||r).coefficients[h]=n[s+h]}}else(this||r).coefficients=n;this.__defineGetter__("Zero",(function(){return 0==(this||r).coefficients[0]}));this.__defineGetter__("Degree",(function(){return(this||r).coefficients.length-1}));this.__defineGetter__("Coefficients",(function(){return(this||r).coefficients}));(this||r).getCoefficient=function(e){return(this||r).coefficients[(this||r).coefficients.length-1-e]};(this||r).evaluateAt=function(e){if(0==e)return this.getCoefficient(0);var t=(this||r).coefficients.length;if(1==e){var n=0;for(var a=0;a<t;a++)n=i.addOrSubtract(n,(this||r).coefficients[a]);return n}var s=(this||r).coefficients[0];for(var a=1;a<t;a++)s=i.addOrSubtract((this||r).field.multiply(e,s),(this||r).coefficients[a]);return s};(this||r).addOrSubtract=function(n){if((this||r).field!=n.field)throw"GF256Polys do not have same GF256 field";if((this||r).Zero)return n;if(n.Zero)return this||r;var a=(this||r).coefficients;var s=n.coefficients;if(a.length>s.length){var o=a;a=s;s=o}var h=new Array(s.length);var l=s.length-a.length;for(var f=0;f<l;f++)h[f]=s[f];for(var w=l;w<s.length;w++)h[w]=i.addOrSubtract(a[w-l],s[w]);return new t(e,h)};(this||r).multiply1=function(e){if((this||r).field!=e.field)throw"GF256Polys do not have same GF256 field";if((this||r).Zero||e.Zero)return(this||r).field.Zero;var n=(this||r).coefficients;var a=n.length;var s=e.coefficients;var o=s.length;var h=new Array(a+o-1);for(var l=0;l<a;l++){var f=n[l];for(var w=0;w<o;w++)h[l+w]=i.addOrSubtract(h[l+w],(this||r).field.multiply(f,s[w]))}return new t((this||r).field,h)};(this||r).multiply2=function(e){if(0==e)return(this||r).field.Zero;if(1==e)return this||r;var n=(this||r).coefficients.length;var i=new Array(n);for(var a=0;a<n;a++)i[a]=(this||r).field.multiply((this||r).coefficients[a],e);return new t((this||r).field,i)};(this||r).multiplyByMonomial=function(e,n){if(e<0)throw"System.ArgumentException";if(0==n)return(this||r).field.Zero;var i=(this||r).coefficients.length;var a=new Array(i+e);for(var s=0;s<a.length;s++)a[s]=0;for(var s=0;s<i;s++)a[s]=(this||r).field.multiply((this||r).coefficients[s],n);return new t((this||r).field,a)};(this||r).divide=function(e){if((this||r).field!=e.field)throw"GF256Polys do not have same GF256 field";if(e.Zero)throw"Divide by 0";var t=(this||r).field.Zero;var n=this||r;var i=e.getCoefficient(e.Degree);var a=(this||r).field.inverse(i);while(n.Degree>=e.Degree&&!n.Zero){var s=n.Degree-e.Degree;var o=(this||r).field.multiply(n.getCoefficient(n.Degree),a);var h=e.multiplyByMonomial(s,o);var l=(this||r).field.buildMonomial(s,o);t=t.addOrSubtract(l);n=n.addOrSubtract(h)}return new Array(t,n)}}}.call({});return e}var n={},i=false;var a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$1(){if(i)return n;i=true;!function(){var e=dew();var t=n=function(t){(this||a).expTable=new Array(256);(this||a).logTable=new Array(256);var r=1;for(var n=0;n<256;n++){(this||a).expTable[n]=r;r<<=1;r>=256&&(r^=t)}for(var n=0;n<255;n++)(this||a).logTable[(this||a).expTable[n]]=n;var i=new Array(1);i[0]=0;(this||a).zero=new e(this||a,new Array(i));var s=new Array(1);s[0]=1;(this||a).one=new e(this||a,new Array(s));this.__defineGetter__("Zero",(function(){return(this||a).zero}));this.__defineGetter__("One",(function(){return(this||a).one}));(this||a).buildMonomial=function(t,r){if(t<0)throw"System.ArgumentException";if(0==r)return zero;var n=new Array(t+1);for(var i=0;i<n.length;i++)n[i]=0;n[0]=r;return new e(this||a,n)};(this||a).exp=function(e){return(this||a).expTable[e]};(this||a).log=function(e){if(0==e)throw"System.ArgumentException";return(this||a).logTable[e]};(this||a).inverse=function(e){if(0==e)throw"System.ArithmeticException";return(this||a).expTable[255-(this||a).logTable[e]]};(this||a).multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:(this||a).expTable[((this||a).logTable[e]+(this||a).logTable[t])%255]}};t.QR_CODE_FIELD=new t(285);t.DATA_MATRIX_FIELD=new t(301);t.addOrSubtract=function(e,t){return e^t}}.call({});return n}var s={},o=false;var h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$2(){if(o)return s;o=true;!function(){var e=s=function(e,t){(this||h).numDataCodewords=e;(this||h).codewords=t;this.__defineGetter__("NumDataCodewords",(function(){return(this||h).numDataCodewords}));this.__defineGetter__("Codewords",(function(){return(this||h).codewords}))};e.getDataBlocks=function(t,r,n){if(t.length!=r.TotalCodewords)throw"ArgumentException";var i=r.getECBlocksForLevel(n);var a=0;var s=i.getECBlocks();for(var o=0;o<s.length;o++)a+=s[o].Count;var h=new Array(a);var l=0;for(var f=0;f<s.length;f++){var w=s[f];for(var o=0;o<w.Count;o++){var u=w.DataCodewords;var c=i.ECCodewordsPerBlock+u;h[l++]=new e(u,new Array(c))}}var d=h[0].codewords.length;var v=h.length-1;while(v>=0){var C=h[v].codewords.length;if(C==d)break;v--}v++;var B=d-i.ECCodewordsPerBlock;var E=0;for(var o=0;o<B;o++)for(var f=0;f<l;f++)h[f].codewords[o]=t[E++];for(var f=v;f<l;f++)h[f].codewords[B]=t[E++];var g=h[0].codewords.length;for(var o=B;o<g;o++)for(var f=0;f<l;f++){var k=f<v?o:o+1;h[f].codewords[k]=t[E++]}return h}}.call({});return s}var l={},f=false;function dew$3(){if(f)return l;f=true;!function(){l=function(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}}.call({});return l}var w={},u=false;var c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$4(){if(u)return w;u=true;!function(){var e=dew$3();var t={};w=function(e){if(e<0||e>7)throw"System.ArgumentException";return t.DATA_MASKS[e]};function DataMask000(){(this||c).unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)};(this||c).isMasked=function(e,t){return 0==(e+t&1)}}function DataMask001(){(this||c).unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)};(this||c).isMasked=function(e,t){return 0==(1&e)}}function DataMask010(){(this||c).unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)};(this||c).isMasked=function(e,t){return t%3==0}}function DataMask011(){(this||c).unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)};(this||c).isMasked=function(e,t){return(e+t)%3==0}}function DataMask100(){(this||c).unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)};(this||c).isMasked=function(t,r){return 0==(e(t,1)+r/3&1)}}function DataMask101(){(this||c).unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)};(this||c).isMasked=function(e,t){var r=e*t;return(1&r)+r%3==0}}function DataMask110(){(this||c).unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)};(this||c).isMasked=function(e,t){var r=e*t;return 0==((1&r)+r%3&1)}}function DataMask111(){(this||c).unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)};(this||c).isMasked=function(e,t){return 0==((e+t&1)+e*t%3&1)}}t.DATA_MASKS=new Array(new DataMask000,new DataMask001,new DataMask010,new DataMask011,new DataMask100,new DataMask101,new DataMask110,new DataMask111)}.call({});return w}var d={},v=false;var C="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$5(){if(v)return d;v=true;!function(){var e=d=function(e,t,r){(this||C).ordinal_Renamed_Field=e;(this||C).bits=t;(this||C).name=r;this.__defineGetter__("Bits",(function(){return(this||C).bits}));this.__defineGetter__("Name",(function(){return(this||C).name}));(this||C).ordinal=function(){return(this||C).ordinal_Renamed_Field}};e.forBits=function(e){if(e<0||e>=a.length)throw"ArgumentException";return a[e]};var t=new e(0,1,"L");var r=new e(1,0,"M");var n=new e(2,3,"Q");var i=new e(3,2,"H");var a=new Array(r,t,i,n)}.call({});return d}var B={},E=false;var g="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$6(){if(E)return B;E=true;!function(){var e=dew$3();var t=dew$5();var r=21522;var n=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31));var i=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);var a=B=function(e){(this||g).errorCorrectionLevel=t.forBits(e>>3&3);(this||g).dataMask=7&e;this.__defineGetter__("ErrorCorrectionLevel",(function(){return(this||g).errorCorrectionLevel}));this.__defineGetter__("DataMask",(function(){return(this||g).dataMask}));(this||g).GetHashCode=function(){return(this||g).errorCorrectionLevel.ordinal()<<3|dataMask};(this||g).Equals=function(e){var t=e;return(this||g).errorCorrectionLevel==t.errorCorrectionLevel&&(this||g).dataMask==t.dataMask}};a.numBitsDiffering=function(t,r){t^=r;return i[15&t]+i[15&e(t,4)]+i[15&e(t,8)]+i[15&e(t,12)]+i[15&e(t,16)]+i[15&e(t,20)]+i[15&e(t,24)]+i[15&e(t,28)]};a.decodeFormatInformation=function(e){var t=a.doDecodeFormatInformation(e);return null!=t?t:a.doDecodeFormatInformation(e^r)};a.doDecodeFormatInformation=function(e){var t=4294967295;var r=0;for(var i=0;i<n.length;i++){var s=n[i];var o=s[0];if(o==e)return new a(s[1]);var h=this.numBitsDiffering(e,o);if(h<t){r=s[1];t=h}}return t<=3?new a(r):null}}.call({});return B}var k={},m=false;var b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$7(){if(m)return k;m=true;!function(){var e=dew$3();k=function(t,r){r||(r=t);if(t<1||r<1)throw"Both dimensions must be greater than 0";(this||b).width=t;(this||b).height=r;var n=t>>5;0!=(31&t)&&n++;(this||b).rowSize=n;(this||b).bits=new Array(n*r);for(var i=0;i<(this||b).bits.length;i++)(this||b).bits[i]=0;this.__defineGetter__("Width",(function(){return(this||b).width}));this.__defineGetter__("Height",(function(){return(this||b).height}));this.__defineGetter__("Dimension",(function(){if((this||b).width!=(this||b).height)throw"Can't call getDimension() on a non-square matrix";return(this||b).width}));(this||b).get_Renamed=function(t,r){var n=r*(this||b).rowSize+(t>>5);return 0!=(1&e((this||b).bits[n],31&t))};(this||b).set_Renamed=function(e,t){var r=t*(this||b).rowSize+(e>>5);(this||b).bits[r]|=1<<(31&e)};(this||b).flip=function(e,t){var r=t*(this||b).rowSize+(e>>5);(this||b).bits[r]^=1<<(31&e)};(this||b).clear=function(){var e=(this||b).bits.length;for(var t=0;t<e;t++)(this||b).bits[t]=0};(this||b).setRegion=function(e,t,r,n){if(t<0||e<0)throw"Left and top must be nonnegative";if(n<1||r<1)throw"Height and width must be at least 1";var i=e+r;var a=t+n;if(a>(this||b).height||i>(this||b).width)throw"The region must fit inside the matrix";for(var s=t;s<a;s++){var o=s*(this||b).rowSize;for(var h=e;h<i;h++)(this||b).bits[o+(h>>5)]|=1<<(31&h)}}}}.call({});return k}var y={},p=false;var M="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$8(){if(p)return y;p=true;!function(){var e=dew$7();var t=dew$6();function ECB(e,t){(this||M).count=e;(this||M).dataCodewords=t;this.__defineGetter__("Count",(function(){return(this||M).count}));this.__defineGetter__("DataCodewords",(function(){return(this||M).dataCodewords}))}function ECBlocks(e,t,r){(this||M).ecCodewordsPerBlock=e;(this||M).ecBlocks=r?new Array(t,r):new Array(t);this.__defineGetter__("ECCodewordsPerBlock",(function(){return(this||M).ecCodewordsPerBlock}));this.__defineGetter__("TotalECCodewords",(function(){return(this||M).ecCodewordsPerBlock*(this||M).NumBlocks}));this.__defineGetter__("NumBlocks",(function(){var e=0;for(var t=0;t<(this||M).ecBlocks.length;t++)e+=(this||M).ecBlocks[t].length;return e}));(this||M).getECBlocks=function(){return(this||M).ecBlocks}}var r=y=function(t,r,n,i,a,s){(this||M).versionNumber=t;(this||M).alignmentPatternCenters=r;(this||M).ecBlocks=new Array(n,i,a,s);var o=0;var h=n.ECCodewordsPerBlock;var l=n.getECBlocks();for(var f=0;f<l.length;f++){var w=l[f];o+=w.Count*(w.DataCodewords+h)}(this||M).totalCodewords=o;this.__defineGetter__("VersionNumber",(function(){return(this||M).versionNumber}));this.__defineGetter__("AlignmentPatternCenters",(function(){return(this||M).alignmentPatternCenters}));this.__defineGetter__("TotalCodewords",(function(){return(this||M).totalCodewords}));this.__defineGetter__("DimensionForVersion",(function(){return 17+4*(this||M).versionNumber}));(this||M).buildFunctionPattern=function(){var t=(this||M).DimensionForVersion;var r=new e(t);r.setRegion(0,0,9,9);r.setRegion(t-8,0,8,9);r.setRegion(0,t-8,9,8);var n=(this||M).alignmentPatternCenters.length;for(var i=0;i<n;i++){var a=(this||M).alignmentPatternCenters[i]-2;for(var s=0;s<n;s++)0==i&&(0==s||s==n-1)||i==n-1&&0==s||r.setRegion((this||M).alignmentPatternCenters[s]-2,a,5,5)}r.setRegion(6,9,1,t-17);r.setRegion(9,6,t-17,1);if((this||M).versionNumber>6){r.setRegion(t-11,0,3,6);r.setRegion(0,t-11,6,3)}return r};(this||M).getECBlocksForLevel=function(e){return(this||M).ecBlocks[e.ordinal()]}};r.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017);r.VERSIONS=buildVersions();r.getVersionForNumber=function(e){if(e<1||e>40)throw"ArgumentException";return r.VERSIONS[e-1]};r.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw"Error getProvisionalVersionForDimension";try{return r.getVersionForNumber(e-17>>2)}catch(e){throw"Error getVersionForNumber"}};r.decodeVersionInformation=function(e){var n=4294967295;var i=0;for(var a=0;a<r.VERSION_DECODE_INFO.length;a++){var s=r.VERSION_DECODE_INFO[a];if(s==e)return this.getVersionForNumber(a+7);var o=t.numBitsDiffering(e,s);if(o<n){i=a+7;n=o}}return n<=3?this.getVersionForNumber(i):null};function buildVersions(){return new Array(new r(1,new Array,new ECBlocks(7,new ECB(1,19)),new ECBlocks(10,new ECB(1,16)),new ECBlocks(13,new ECB(1,13)),new ECBlocks(17,new ECB(1,9))),new r(2,new Array(6,18),new ECBlocks(10,new ECB(1,34)),new ECBlocks(16,new ECB(1,28)),new ECBlocks(22,new ECB(1,22)),new ECBlocks(28,new ECB(1,16))),new r(3,new Array(6,22),new ECBlocks(15,new ECB(1,55)),new ECBlocks(26,new ECB(1,44)),new ECBlocks(18,new ECB(2,17)),new ECBlocks(22,new ECB(2,13))),new r(4,new Array(6,26),new ECBlocks(20,new ECB(1,80)),new ECBlocks(18,new ECB(2,32)),new ECBlocks(26,new ECB(2,24)),new ECBlocks(16,new ECB(4,9))),new r(5,new Array(6,30),new ECBlocks(26,new ECB(1,108)),new ECBlocks(24,new ECB(2,43)),new ECBlocks(18,new ECB(2,15),new ECB(2,16)),new ECBlocks(22,new ECB(2,11),new ECB(2,12))),new r(6,new Array(6,34),new ECBlocks(18,new ECB(2,68)),new ECBlocks(16,new ECB(4,27)),new ECBlocks(24,new ECB(4,19)),new ECBlocks(28,new ECB(4,15))),new r(7,new Array(6,22,38),new ECBlocks(20,new ECB(2,78)),new ECBlocks(18,new ECB(4,31)),new ECBlocks(18,new ECB(2,14),new ECB(4,15)),new ECBlocks(26,new ECB(4,13),new ECB(1,14))),new r(8,new Array(6,24,42),new ECBlocks(24,new ECB(2,97)),new ECBlocks(22,new ECB(2,38),new ECB(2,39)),new ECBlocks(22,new ECB(4,18),new ECB(2,19)),new ECBlocks(26,new ECB(4,14),new ECB(2,15))),new r(9,new Array(6,26,46),new ECBlocks(30,new ECB(2,116)),new ECBlocks(22,new ECB(3,36),new ECB(2,37)),new ECBlocks(20,new ECB(4,16),new ECB(4,17)),new ECBlocks(24,new ECB(4,12),new ECB(4,13))),new r(10,new Array(6,28,50),new ECBlocks(18,new ECB(2,68),new ECB(2,69)),new ECBlocks(26,new ECB(4,43),new ECB(1,44)),new ECBlocks(24,new ECB(6,19),new ECB(2,20)),new ECBlocks(28,new ECB(6,15),new ECB(2,16))),new r(11,new Array(6,30,54),new ECBlocks(20,new ECB(4,81)),new ECBlocks(30,new ECB(1,50),new ECB(4,51)),new ECBlocks(28,new ECB(4,22),new ECB(4,23)),new ECBlocks(24,new ECB(3,12),new ECB(8,13))),new r(12,new Array(6,32,58),new ECBlocks(24,new ECB(2,92),new ECB(2,93)),new ECBlocks(22,new ECB(6,36),new ECB(2,37)),new ECBlocks(26,new ECB(4,20),new ECB(6,21)),new ECBlocks(28,new ECB(7,14),new ECB(4,15))),new r(13,new Array(6,34,62),new ECBlocks(26,new ECB(4,107)),new ECBlocks(22,new ECB(8,37),new ECB(1,38)),new ECBlocks(24,new ECB(8,20),new ECB(4,21)),new ECBlocks(22,new ECB(12,11),new ECB(4,12))),new r(14,new Array(6,26,46,66),new ECBlocks(30,new ECB(3,115),new ECB(1,116)),new ECBlocks(24,new ECB(4,40),new ECB(5,41)),new ECBlocks(20,new ECB(11,16),new ECB(5,17)),new ECBlocks(24,new ECB(11,12),new ECB(5,13))),new r(15,new Array(6,26,48,70),new ECBlocks(22,new ECB(5,87),new ECB(1,88)),new ECBlocks(24,new ECB(5,41),new ECB(5,42)),new ECBlocks(30,new ECB(5,24),new ECB(7,25)),new ECBlocks(24,new ECB(11,12),new ECB(7,13))),new r(16,new Array(6,26,50,74),new ECBlocks(24,new ECB(5,98),new ECB(1,99)),new ECBlocks(28,new ECB(7,45),new ECB(3,46)),new ECBlocks(24,new ECB(15,19),new ECB(2,20)),new ECBlocks(30,new ECB(3,15),new ECB(13,16))),new r(17,new Array(6,30,54,78),new ECBlocks(28,new ECB(1,107),new ECB(5,108)),new ECBlocks(28,new ECB(10,46),new ECB(1,47)),new ECBlocks(28,new ECB(1,22),new ECB(15,23)),new ECBlocks(28,new ECB(2,14),new ECB(17,15))),new r(18,new Array(6,30,56,82),new ECBlocks(30,new ECB(5,120),new ECB(1,121)),new ECBlocks(26,new ECB(9,43),new ECB(4,44)),new ECBlocks(28,new ECB(17,22),new ECB(1,23)),new ECBlocks(28,new ECB(2,14),new ECB(19,15))),new r(19,new Array(6,30,58,86),new ECBlocks(28,new ECB(3,113),new ECB(4,114)),new ECBlocks(26,new ECB(3,44),new ECB(11,45)),new ECBlocks(26,new ECB(17,21),new ECB(4,22)),new ECBlocks(26,new ECB(9,13),new ECB(16,14))),new r(20,new Array(6,34,62,90),new ECBlocks(28,new ECB(3,107),new ECB(5,108)),new ECBlocks(26,new ECB(3,41),new ECB(13,42)),new ECBlocks(30,new ECB(15,24),new ECB(5,25)),new ECBlocks(28,new ECB(15,15),new ECB(10,16))),new r(21,new Array(6,28,50,72,94),new ECBlocks(28,new ECB(4,116),new ECB(4,117)),new ECBlocks(26,new ECB(17,42)),new ECBlocks(28,new ECB(17,22),new ECB(6,23)),new ECBlocks(30,new ECB(19,16),new ECB(6,17))),new r(22,new Array(6,26,50,74,98),new ECBlocks(28,new ECB(2,111),new ECB(7,112)),new ECBlocks(28,new ECB(17,46)),new ECBlocks(30,new ECB(7,24),new ECB(16,25)),new ECBlocks(24,new ECB(34,13))),new r(23,new Array(6,30,54,74,102),new ECBlocks(30,new ECB(4,121),new ECB(5,122)),new ECBlocks(28,new ECB(4,47),new ECB(14,48)),new ECBlocks(30,new ECB(11,24),new ECB(14,25)),new ECBlocks(30,new ECB(16,15),new ECB(14,16))),new r(24,new Array(6,28,54,80,106),new ECBlocks(30,new ECB(6,117),new ECB(4,118)),new ECBlocks(28,new ECB(6,45),new ECB(14,46)),new ECBlocks(30,new ECB(11,24),new ECB(16,25)),new ECBlocks(30,new ECB(30,16),new ECB(2,17))),new r(25,new Array(6,32,58,84,110),new ECBlocks(26,new ECB(8,106),new ECB(4,107)),new ECBlocks(28,new ECB(8,47),new ECB(13,48)),new ECBlocks(30,new ECB(7,24),new ECB(22,25)),new ECBlocks(30,new ECB(22,15),new ECB(13,16))),new r(26,new Array(6,30,58,86,114),new ECBlocks(28,new ECB(10,114),new ECB(2,115)),new ECBlocks(28,new ECB(19,46),new ECB(4,47)),new ECBlocks(28,new ECB(28,22),new ECB(6,23)),new ECBlocks(30,new ECB(33,16),new ECB(4,17))),new r(27,new Array(6,34,62,90,118),new ECBlocks(30,new ECB(8,122),new ECB(4,123)),new ECBlocks(28,new ECB(22,45),new ECB(3,46)),new ECBlocks(30,new ECB(8,23),new ECB(26,24)),new ECBlocks(30,new ECB(12,15),new ECB(28,16))),new r(28,new Array(6,26,50,74,98,122),new ECBlocks(30,new ECB(3,117),new ECB(10,118)),new ECBlocks(28,new ECB(3,45),new ECB(23,46)),new ECBlocks(30,new ECB(4,24),new ECB(31,25)),new ECBlocks(30,new ECB(11,15),new ECB(31,16))),new r(29,new Array(6,30,54,78,102,126),new ECBlocks(30,new ECB(7,116),new ECB(7,117)),new ECBlocks(28,new ECB(21,45),new ECB(7,46)),new ECBlocks(30,new ECB(1,23),new ECB(37,24)),new ECBlocks(30,new ECB(19,15),new ECB(26,16))),new r(30,new Array(6,26,52,78,104,130),new ECBlocks(30,new ECB(5,115),new ECB(10,116)),new ECBlocks(28,new ECB(19,47),new ECB(10,48)),new ECBlocks(30,new ECB(15,24),new ECB(25,25)),new ECBlocks(30,new ECB(23,15),new ECB(25,16))),new r(31,new Array(6,30,56,82,108,134),new ECBlocks(30,new ECB(13,115),new ECB(3,116)),new ECBlocks(28,new ECB(2,46),new ECB(29,47)),new ECBlocks(30,new ECB(42,24),new ECB(1,25)),new ECBlocks(30,new ECB(23,15),new ECB(28,16))),new r(32,new Array(6,34,60,86,112,138),new ECBlocks(30,new ECB(17,115)),new ECBlocks(28,new ECB(10,46),new ECB(23,47)),new ECBlocks(30,new ECB(10,24),new ECB(35,25)),new ECBlocks(30,new ECB(19,15),new ECB(35,16))),new r(33,new Array(6,30,58,86,114,142),new ECBlocks(30,new ECB(17,115),new ECB(1,116)),new ECBlocks(28,new ECB(14,46),new ECB(21,47)),new ECBlocks(30,new ECB(29,24),new ECB(19,25)),new ECBlocks(30,new ECB(11,15),new ECB(46,16))),new r(34,new Array(6,34,62,90,118,146),new ECBlocks(30,new ECB(13,115),new ECB(6,116)),new ECBlocks(28,new ECB(14,46),new ECB(23,47)),new ECBlocks(30,new ECB(44,24),new ECB(7,25)),new ECBlocks(30,new ECB(59,16),new ECB(1,17))),new r(35,new Array(6,30,54,78,102,126,150),new ECBlocks(30,new ECB(12,121),new ECB(7,122)),new ECBlocks(28,new ECB(12,47),new ECB(26,48)),new ECBlocks(30,new ECB(39,24),new ECB(14,25)),new ECBlocks(30,new ECB(22,15),new ECB(41,16))),new r(36,new Array(6,24,50,76,102,128,154),new ECBlocks(30,new ECB(6,121),new ECB(14,122)),new ECBlocks(28,new ECB(6,47),new ECB(34,48)),new ECBlocks(30,new ECB(46,24),new ECB(10,25)),new ECBlocks(30,new ECB(2,15),new ECB(64,16))),new r(37,new Array(6,28,54,80,106,132,158),new ECBlocks(30,new ECB(17,122),new ECB(4,123)),new ECBlocks(28,new ECB(29,46),new ECB(14,47)),new ECBlocks(30,new ECB(49,24),new ECB(10,25)),new ECBlocks(30,new ECB(24,15),new ECB(46,16))),new r(38,new Array(6,32,58,84,110,136,162),new ECBlocks(30,new ECB(4,122),new ECB(18,123)),new ECBlocks(28,new ECB(13,46),new ECB(32,47)),new ECBlocks(30,new ECB(48,24),new ECB(14,25)),new ECBlocks(30,new ECB(42,15),new ECB(32,16))),new r(39,new Array(6,26,54,82,110,138,166),new ECBlocks(30,new ECB(20,117),new ECB(4,118)),new ECBlocks(28,new ECB(40,47),new ECB(7,48)),new ECBlocks(30,new ECB(43,24),new ECB(22,25)),new ECBlocks(30,new ECB(10,15),new ECB(67,16))),new r(40,new Array(6,30,58,86,114,142,170),new ECBlocks(30,new ECB(19,118),new ECB(6,119)),new ECBlocks(28,new ECB(18,47),new ECB(31,48)),new ECBlocks(30,new ECB(34,24),new ECB(34,25)),new ECBlocks(30,new ECB(20,15),new ECB(61,16))))}}.call({});return y}var _={},A=false;var P="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$9(){if(A)return _;A=true;!function(){var e=dew$4();var t=dew$6();var r=dew$8();_=function BitMatrixParser(n){var i=n.Dimension;if(i<21||1!=(3&i))throw"Error BitMatrixParser";(this||P).bitMatrix=n;(this||P).parsedVersion=null;(this||P).parsedFormatInfo=null;(this||P).copyBit=function(e,t,r){return(this||P).bitMatrix.get_Renamed(e,t)?r<<1|1:r<<1};(this||P).readFormatInformation=function(){if(null!=(this||P).parsedFormatInfo)return(this||P).parsedFormatInfo;var e=0;for(var r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e);e=this.copyBit(8,8,e);e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);(this||P).parsedFormatInfo=t.decodeFormatInformation(e);if(null!=(this||P).parsedFormatInfo)return(this||P).parsedFormatInfo;var i=(this||P).bitMatrix.Dimension;e=0;var a=i-8;for(var r=i-1;r>=a;r--)e=this.copyBit(r,8,e);for(var n=i-7;n<i;n++)e=this.copyBit(8,n,e);(this||P).parsedFormatInfo=t.decodeFormatInformation(e);if(null!=(this||P).parsedFormatInfo)return(this||P).parsedFormatInfo;throw"Error readFormatInformation"};(this||P).readVersion=function(){if(null!=(this||P).parsedVersion)return(this||P).parsedVersion;var e=(this||P).bitMatrix.Dimension;var t=e-17>>2;if(t<=6)return r.getVersionForNumber(t);var n=0;var i=e-11;for(var a=5;a>=0;a--)for(var s=e-9;s>=i;s--)n=this.copyBit(s,a,n);(this||P).parsedVersion=r.decodeVersionInformation(n);if(null!=(this||P).parsedVersion&&(this||P).parsedVersion.DimensionForVersion==e)return(this||P).parsedVersion;n=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)n=this.copyBit(s,a,n);(this||P).parsedVersion=r.decodeVersionInformation(n);if(null!=(this||P).parsedVersion&&(this||P).parsedVersion.DimensionForVersion==e)return(this||P).parsedVersion;throw"Error readVersion"};(this||P).readCodewords=function(){var t=this.readFormatInformation();var r=this.readVersion();var n=e(t.DataMask);var i=(this||P).bitMatrix.Dimension;n.unmaskBitMatrix((this||P).bitMatrix,i);var a=r.buildFunctionPattern();var s=true;var o=new Array(r.TotalCodewords);var h=0;var l=0;var f=0;for(var w=i-1;w>0;w-=2){6==w&&w--;for(var u=0;u<i;u++){var c=s?i-1-u:u;for(var d=0;d<2;d++)if(!a.get_Renamed(w-d,c)){f++;l<<=1;(this||P).bitMatrix.get_Renamed(w-d,c)&&(l|=1);if(8==f){o[h++]=l;f=0;l=0}}}s^=true}if(h!=r.TotalCodewords)throw"Error readCodewords";return o}}}.call({});return _}var D={},N=false;var S="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$a(){if(N)return D;N=true;!function(){var e=dew$1();var t=dew();D=function(r){(this||S).field=r;(this||S).decode=function(r,n){var i=new t((this||S).field,r);var a=new Array(n);for(var s=0;s<a.length;s++)a[s]=0;var o=false;var h=true;for(var s=0;s<n;s++){var l=i.evaluateAt((this||S).field.exp(o?s+1:s));a[a.length-1-s]=l;0!=l&&(h=false)}if(!h){var f=new t((this||S).field,a);var w=this.runEuclideanAlgorithm((this||S).field.buildMonomial(n,1),f,n);var u=w[0];var c=w[1];var d=this.findErrorLocations(u);var v=this.findErrorMagnitudes(c,d,o);for(var s=0;s<d.length;s++){var C=r.length-1-(this||S).field.log(d[s]);if(C<0)throw"ReedSolomonException Bad error location";r[C]=e.addOrSubtract(r[C],v[s])}}};(this||S).runEuclideanAlgorithm=function(e,t,r){if(e.Degree<t.Degree){var n=e;e=t;t=n}var i=e;var a=t;var s=(this||S).field.One;var o=(this||S).field.Zero;var h=(this||S).field.Zero;var l=(this||S).field.One;while(a.Degree>=Math.floor(r/2)){var f=i;var w=s;var u=h;i=a;s=o;h=l;if(i.Zero)throw"r_{i-1} was zero";a=f;var c=(this||S).field.Zero;var d=i.getCoefficient(i.Degree);var v=(this||S).field.inverse(d);while(a.Degree>=i.Degree&&!a.Zero){var C=a.Degree-i.Degree;var B=(this||S).field.multiply(a.getCoefficient(a.Degree),v);c=c.addOrSubtract((this||S).field.buildMonomial(C,B));a=a.addOrSubtract(i.multiplyByMonomial(C,B))}o=c.multiply1(s).addOrSubtract(w);l=c.multiply1(h).addOrSubtract(u)}var E=l.getCoefficient(0);if(0==E)throw"ReedSolomonException sigmaTilde(0) was zero";var g=(this||S).field.inverse(E);var k=l.multiply2(g);var m=a.multiply2(g);return new Array(k,m)};(this||S).findErrorLocations=function(e){var t=e.Degree;if(1==t)return new Array(e.getCoefficient(1));var r=new Array(t);var n=0;for(var i=1;i<256&&n<t;i++)if(0==e.evaluateAt(i)){r[n]=(this||S).field.inverse(i);n++}if(n!=t)throw"Error locator degree does not match number of roots";return r};(this||S).findErrorMagnitudes=function(t,r,n){var i=r.length;var a=new Array(i);for(var s=0;s<i;s++){var o=(this||S).field.inverse(r[s]);var h=1;for(var l=0;l<i;l++)s!=l&&(h=(this||S).field.multiply(h,e.addOrSubtract(1,(this||S).field.multiply(r[l],o))));a[s]=(this||S).field.multiply(t.evaluateAt(o),(this||S).field.inverse(h));n&&(a[s]=(this||S).field.multiply(a[s],o))}return a}}}.call({});return D}var x={},T=false;var F="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$b(){if(T)return x;T=true;!function(){var e=dew$h();x=function QRCodeDataBlockReader(t,r,n){(this||F).blockPointer=0;(this||F).bitPointer=7;(this||F).dataLength=0;(this||F).blocks=t;(this||F).numErrorCorrectionCode=n;r<=9?(this||F).dataLengthMode=0:r>=10&&r<=26?(this||F).dataLengthMode=1:r>=27&&r<=40&&((this||F).dataLengthMode=2);(this||F).getNextBits=function(e){var t=0;if(e<(this||F).bitPointer+1){var r=0;for(var n=0;n<e;n++)r+=1<<n;r<<=(this||F).bitPointer-e+1;t=((this||F).blocks[(this||F).blockPointer]&r)>>(this||F).bitPointer-e+1;(this||F).bitPointer-=e;return t}if(e<(this||F).bitPointer+1+8){var i=0;for(var n=0;n<(this||F).bitPointer+1;n++)i+=1<<n;t=((this||F).blocks[(this||F).blockPointer]&i)<<e-((this||F).bitPointer+1);(this||F).blockPointer++;t+=(this||F).blocks[(this||F).blockPointer]>>8-(e-((this||F).bitPointer+1));(this||F).bitPointer=(this||F).bitPointer-e%8;(this||F).bitPointer<0&&((this||F).bitPointer=8+(this||F).bitPointer);return t}if(e<(this||F).bitPointer+1+16){var i=0;var a=0;for(var n=0;n<(this||F).bitPointer+1;n++)i+=1<<n;var s=((this||F).blocks[(this||F).blockPointer]&i)<<e-((this||F).bitPointer+1);(this||F).blockPointer++;var o=(this||F).blocks[(this||F).blockPointer]<<e-((this||F).bitPointer+1+8);(this||F).blockPointer++;for(var n=0;n<e-((this||F).bitPointer+1+8);n++)a+=1<<n;a<<=8-(e-((this||F).bitPointer+1+8));var h=((this||F).blocks[(this||F).blockPointer]&a)>>8-(e-((this||F).bitPointer+1+8));t=s+o+h;(this||F).bitPointer=(this||F).bitPointer-(e-8)%8;(this||F).bitPointer<0&&((this||F).bitPointer=8+(this||F).bitPointer);return t}return 0};(this||F).NextMode=function(){return(this||F).blockPointer>(this||F).blocks.length-(this||F).numErrorCorrectionCode-2?0:this.getNextBits(4)};(this||F).getDataLength=function(t){var r=0;while(true){if(t>>r==1)break;r++}return this.getNextBits(e.sizeOfDataLengthInfo[(this||F).dataLengthMode][r])};(this||F).getRomanAndFigureString=function(e){var t=e;var r=0;var n="";var i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do{if(t>1){r=this.getNextBits(11);var a=Math.floor(r/45);var s=r%45;n+=i[a];n+=i[s];t-=2}else if(1==t){r=this.getNextBits(6);n+=i[r];t-=1}}while(t>0);return n};(this||F).getFigureString=function(e){var t=e;var r=0;var n="";do{if(t>=3){r=this.getNextBits(10);r<100&&(n+="0");r<10&&(n+="0");t-=3}else if(2==t){r=this.getNextBits(7);r<10&&(n+="0");t-=2}else if(1==t){r=this.getNextBits(4);t-=1}n+=r}while(t>0);return n};(this||F).get8bitByteArray=function(e){var t=e;var r=0;var n=new Array;do{r=this.getNextBits(8);n.push(r);t--}while(t>0);return n};(this||F).getKanjiString=function(e){var t=e;var r=0;var n="";do{r=getNextBits(13);var i=r%192;var a=r/192;var s=(a<<8)+i;var o=0;o=s+33088<=40956?s+33088:s+49472;n+=String.fromCharCode(o);t--}while(t>0);return n};this.__defineGetter__("DataByte",(function(){var e=new Array;var t=1;var r=2;var n=4;var i=8;do{var a=this.NextMode();if(0==a){if(e.length>0)break;throw"Empty data block"}if(a!=t&&a!=r&&a!=n&&a!=i)throw"Invalid mode: "+a+" in (block:"+(this||F).blockPointer+" bit:"+(this||F).bitPointer+")";var s=this.getDataLength(a);if(s<1)throw"Invalid data length: "+s;switch(a){case t:var o=this.getFigureString(s);var h=new Array(o.length);for(var l=0;l<o.length;l++)h[l]=o.charCodeAt(l);e.push(h);break;case r:var o=this.getRomanAndFigureString(s);var h=new Array(o.length);for(var l=0;l<o.length;l++)h[l]=o.charCodeAt(l);e.push(h);break;case n:var f=this.get8bitByteArray(s);e.push(f);break;case i:var o=this.getKanjiString(s);e.push(o);break}}while(true);return e}))}}.call({});return x}var I={},R=false;function dew$c(){if(R)return I;R=true;!function(){var e=dew$1();var t=dew$2();var r=dew$9();var n=dew$a();var i=dew$b();var a=I={};a.rsDecoder=new n(e.QR_CODE_FIELD);a.correctErrors=function(e,t){var r=e.length;var n=new Array(r);for(var i=0;i<r;i++)n[i]=255&e[i];var s=e.length-t;try{a.rsDecoder.decode(n,s)}catch(e){throw e}for(var i=0;i<t;i++)e[i]=n[i]};a.decode=function(e){var n=new r(e);var s=n.readVersion();var o=n.readFormatInformation().ErrorCorrectionLevel;var h=n.readCodewords();var l=t.getDataBlocks(h,s,o);var f=0;for(var w=0;w<l.length;w++)f+=l[w].NumDataCodewords;var u=new Array(f);var c=0;for(var d=0;d<l.length;d++){var v=l[d];var C=v.Codewords;var B=v.NumDataCodewords;a.correctErrors(C,B);for(var w=0;w<B;w++)u[c++]=C[w]}var E=new i(u,s.VersionNumber,o.Bits);return E}}.call({});return I}var G={},$=false;var z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$d(){if($)return G;$=true;!function(){var e=dew$h();function AlignmentPattern(e,t,r){(this||z).x=e;(this||z).y=t;(this||z).count=1;(this||z).estimatedModuleSize=r;this.__defineGetter__("EstimatedModuleSize",(function(){return(this||z).estimatedModuleSize}));this.__defineGetter__("Count",(function(){return(this||z).count}));this.__defineGetter__("X",(function(){return Math.floor((this||z).x)}));this.__defineGetter__("Y",(function(){return Math.floor((this||z).y)}));(this||z).incrementCount=function(){(this||z).count++};(this||z).aboutEquals=function(e,t,r){if(Math.abs(t-(this||z).y)<=e&&Math.abs(r-(this||z).x)<=e){var n=Math.abs(e-(this||z).estimatedModuleSize);return n<=1||n/(this||z).estimatedModuleSize<=1}return false}}var t=G=function(t,r,n,i,a,s,o){(this||z).image=t;(this||z).possibleCenters=new Array;(this||z).startX=r;(this||z).startY=n;(this||z).width=i;(this||z).height=a;(this||z).moduleSize=s;(this||z).crossCheckStateCount=new Array(0,0,0);(this||z).resultPointCallback=o;(this||z).centerFromEnd=function(e,t){return t-e[2]-e[1]/2};(this||z).foundPatternCross=function(e){var t=(this||z).moduleSize;var r=t/2;for(var n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return false;return true};(this||z).crossCheckVertical=function(t,r,n,i){var a=(this||z).image;var s=e.height;var o=(this||z).crossCheckStateCount;o[0]=0;o[1]=0;o[2]=0;var h=t;while(h>=0&&a[r+h*e.width]&&o[1]<=n){o[1]++;h--}if(h<0||o[1]>n)return NaN;while(h>=0&&!a[r+h*e.width]&&o[0]<=n){o[0]++;h--}if(o[0]>n)return NaN;h=t+1;while(h<s&&a[r+h*e.width]&&o[1]<=n){o[1]++;h++}if(h==s||o[1]>n)return NaN;while(h<s&&!a[r+h*e.width]&&o[2]<=n){o[2]++;h++}if(o[2]>n)return NaN;var l=o[0]+o[1]+o[2];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(o)?this.centerFromEnd(o,h):NaN};(this||z).handlePossibleCenter=function(e,t,r){var n=e[0]+e[1]+e[2];var i=this.centerFromEnd(e,r);var a=this.crossCheckVertical(t,Math.floor(i),2*e[1],n);if(!isNaN(a)){var s=(e[0]+e[1]+e[2])/3;var o=(this||z).possibleCenters.length;for(var h=0;h<o;h++){var l=(this||z).possibleCenters[h];if(l.aboutEquals(s,a,i))return new AlignmentPattern(i,a,s)}var f=new AlignmentPattern(i,a,s);(this||z).possibleCenters.push(f);null!=(this||z).resultPointCallback&&(this||z).resultPointCallback.foundPossibleResultPoint(f)}return null};(this||z).find=function(){var r=(this||z).startX;var a=(this||z).height;var s=r+i;var o=n+(a>>1);var h=new Array(0,0,0);for(var l=0;l<a;l++){var f=o+(0==(1&l)?l+1>>1:-(l+1>>1));h[0]=0;h[1]=0;h[2]=0;var w=r;while(w<s&&!t[w+e.width*f])w++;var u=0;while(w<s){if(t[w+f*e.width])if(1==u)h[u]++;else if(2==u){if(this.foundPatternCross(h)){var c=this.handlePossibleCenter(h,f,w);if(null!=c)return c}h[0]=h[2];h[1]=1;h[2]=0;u=1}else h[++u]++;else{1==u&&u++;h[u]++}w++}if(this.foundPatternCross(h)){var c=this.handlePossibleCenter(h,f,s);if(null!=c)return c}}if(!(0==(this||z).possibleCenters.length))return(this||z).possibleCenters[0];throw"Couldn't find enough alignment patterns"}}}.call({});return G}var V={},O=false;var L="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$e(){if(O)return V;O=true;!function(){var e=dew$h();var t=3;var r=57;var n=8;var i=2;function remove(e,t,r){var n=e.slice((r||t)+1||e.length);e.length=t<0?e.length+t:t;return e.push.apply(e,n)}function FinderPattern(e,t,r){(this||L).x=e;(this||L).y=t;(this||L).count=1;(this||L).estimatedModuleSize=r;this.__defineGetter__("EstimatedModuleSize",(function(){return(this||L).estimatedModuleSize}));this.__defineGetter__("Count",(function(){return(this||L).count}));this.__defineGetter__("X",(function(){return(this||L).x}));this.__defineGetter__("Y",(function(){return(this||L).y}));(this||L).incrementCount=function(){(this||L).count++};(this||L).aboutEquals=function(e,t,r){if(Math.abs(t-(this||L).y)<=e&&Math.abs(r-(this||L).x)<=e){var n=Math.abs(e-(this||L).estimatedModuleSize);return n<=1||n/(this||L).estimatedModuleSize<=1}return false}}function FinderPatternInfo(e){(this||L).bottomLeft=e[0];(this||L).topLeft=e[1];(this||L).topRight=e[2];this.__defineGetter__("BottomLeft",(function(){return(this||L).bottomLeft}));this.__defineGetter__("TopLeft",(function(){return(this||L).topLeft}));this.__defineGetter__("TopRight",(function(){return(this||L).topRight}))}V=function(){(this||L).image=null;(this||L).possibleCenters=[];(this||L).hasSkipped=false;(this||L).crossCheckStateCount=new Array(0,0,0,0,0);(this||L).resultPointCallback=null;this.__defineGetter__("CrossCheckStateCount",(function(){(this||L).crossCheckStateCount[0]=0;(this||L).crossCheckStateCount[1]=0;(this||L).crossCheckStateCount[2]=0;(this||L).crossCheckStateCount[3]=0;(this||L).crossCheckStateCount[4]=0;return(this||L).crossCheckStateCount}));(this||L).foundPatternCross=function(e){var t=0;for(var r=0;r<5;r++){var i=e[r];if(0==i)return false;t+=i}if(t<7)return false;var a=Math.floor((t<<n)/7);var s=Math.floor(a/2);return Math.abs(a-(e[0]<<n))<s&&Math.abs(a-(e[1]<<n))<s&&Math.abs(3*a-(e[2]<<n))<3*s&&Math.abs(a-(e[3]<<n))<s&&Math.abs(a-(e[4]<<n))<s};(this||L).centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2};(this||L).crossCheckVertical=function(t,r,n,i){var a=(this||L).image;var s=e.height;var o=(this||L).CrossCheckStateCount;var h=t;while(h>=0&&a[r+h*e.width]){o[2]++;h--}if(h<0)return NaN;while(h>=0&&!a[r+h*e.width]&&o[1]<=n){o[1]++;h--}if(h<0||o[1]>n)return NaN;while(h>=0&&a[r+h*e.width]&&o[0]<=n){o[0]++;h--}if(o[0]>n)return NaN;h=t+1;while(h<s&&a[r+h*e.width]){o[2]++;h++}if(h==s)return NaN;while(h<s&&!a[r+h*e.width]&&o[3]<n){o[3]++;h++}if(h==s||o[3]>=n)return NaN;while(h<s&&a[r+h*e.width]&&o[4]<n){o[4]++;h++}if(o[4]>=n)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(o)?this.centerFromEnd(o,h):NaN};(this||L).crossCheckHorizontal=function(t,r,n,i){var a=(this||L).image;var s=e.width;var o=(this||L).CrossCheckStateCount;var h=t;while(h>=0&&a[h+r*e.width]){o[2]++;h--}if(h<0)return NaN;while(h>=0&&!a[h+r*e.width]&&o[1]<=n){o[1]++;h--}if(h<0||o[1]>n)return NaN;while(h>=0&&a[h+r*e.width]&&o[0]<=n){o[0]++;h--}if(o[0]>n)return NaN;h=t+1;while(h<s&&a[h+r*e.width]){o[2]++;h++}if(h==s)return NaN;while(h<s&&!a[h+r*e.width]&&o[3]<n){o[3]++;h++}if(h==s||o[3]>=n)return NaN;while(h<s&&a[h+r*e.width]&&o[4]<n){o[4]++;h++}if(o[4]>=n)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-i)>=i?NaN:this.foundPatternCross(o)?this.centerFromEnd(o,h):NaN};(this||L).handlePossibleCenter=function(e,t,r){var n=e[0]+e[1]+e[2]+e[3]+e[4];var i=this.centerFromEnd(e,r);var a=this.crossCheckVertical(t,Math.floor(i),e[2],n);if(!isNaN(a)){i=this.crossCheckHorizontal(Math.floor(i),Math.floor(a),e[2],n);if(!isNaN(i)){var s=n/7;var o=false;var h=(this||L).possibleCenters.length;for(var l=0;l<h;l++){var f=(this||L).possibleCenters[l];if(f.aboutEquals(s,a,i)){f.incrementCount();o=true;break}}if(!o){var w=new FinderPattern(i,a,s);(this||L).possibleCenters.push(w);null!=(this||L).resultPointCallback&&(this||L).resultPointCallback.foundPossibleResultPoint(w)}return true}}return false};(this||L).selectBestPatterns=function(){var e=(this||L).possibleCenters.length;if(e<3)throw"Couldn't find enough finder patterns";if(e>3){var t=0;var r=0;for(var n=0;n<e;n++){var i=(this||L).possibleCenters[n].EstimatedModuleSize;t+=i;r+=i*i}var a=t/e;(this||L).possibleCenters.sort((function(e,t){var r=Math.abs(t.EstimatedModuleSize-a);var n=Math.abs(e.EstimatedModuleSize-a);return r<n?-1:r==n?0:1}));var s=Math.sqrt(r/e-a*a);var o=Math.max(.2*a,s);for(var n=0;n<(this||L).possibleCenters.length&&(this||L).possibleCenters.length>3;n++){var h=(this||L).possibleCenters[n];if(Math.abs(h.EstimatedModuleSize-a)>o){remove((this||L).possibleCenters,n);n--}}}(this||L).possibleCenters.length>3&&(this||L).possibleCenters.sort((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0}));return new Array((this||L).possibleCenters[0],(this||L).possibleCenters[1],(this||L).possibleCenters[2])};(this||L).findRowSkip=function(){var e=(this||L).possibleCenters.length;if(e<=1)return 0;var t=null;for(var r=0;r<e;r++){var n=(this||L).possibleCenters[r];if(n.Count>=i){if(null!=t){(this||L).hasSkipped=true;return Math.floor((Math.abs(t.X-n.X)-Math.abs(t.Y-n.Y))/2)}t=n}}return 0};(this||L).haveMultiplyConfirmedCenters=function(){var e=0;var t=0;var r=(this||L).possibleCenters.length;for(var n=0;n<r;n++){var a=(this||L).possibleCenters[n];if(a.Count>=i){e++;t+=a.EstimatedModuleSize}}if(e<3)return false;var s=t/r;var o=0;for(var n=0;n<r;n++){a=(this||L).possibleCenters[n];o+=Math.abs(a.EstimatedModuleSize-s)}return o<=.05*t};(this||L).findFinderPattern=function(n){var i=false;(this||L).image=n;var a=e.height;var s=e.width;var o=Math.floor(3*a/(4*r));(o<t||i)&&(o=t);var h=false;var l=new Array(5);for(var f=o-1;f<a&&!h;f+=o){l[0]=0;l[1]=0;l[2]=0;l[3]=0;l[4]=0;var w=0;for(var u=0;u<s;u++)if(n[u+f*e.width]){1==(1&w)&&w++;l[w]++}else if(0==(1&w))if(4==w)if(this.foundPatternCross(l)){var c=this.handlePossibleCenter(l,f,u);if(c){o=2;if((this||L).hasSkipped)h=this.haveMultiplyConfirmedCenters();else{var d=this.findRowSkip();if(d>l[2]){f+=d-l[2]-o;u=s-1}}}else{do{u++}while(u<s&&!n[u+f*e.width]);u--}w=0;l[0]=0;l[1]=0;l[2]=0;l[3]=0;l[4]=0}else{l[0]=l[2];l[1]=l[3];l[2]=l[4];l[3]=1;l[4]=0;w=3}else l[++w]++;else l[w]++;if(this.foundPatternCross(l)){var c=this.handlePossibleCenter(l,f,s);if(c){o=l[0];(this||L).hasSkipped&&(h=haveMultiplyConfirmedCenters())}}}var v=this.selectBestPatterns();e.orderBestPatterns(v);return new FinderPatternInfo(v)}}}.call({});return V}var X={},Y=false;function dew$f(){if(Y)return X;Y=true;!function(){var e=dew$h();var t=dew$7();var r=dew$g().PerspectiveTransform;var n=X={};n.checkAndNudgePoints=function(t,r){var n=e.width;var i=e.height;var a=true;for(var s=0;s<r.length&&a;s+=2){var o=Math.floor(r[s]);var h=Math.floor(r[s+1]);if(o<-1||o>n||h<-1||h>i)throw"Error.checkAndNudgePoints ";a=false;if(-1==o){r[s]=0;a=true}else if(o==n){r[s]=n-1;a=true}if(-1==h){r[s+1]=0;a=true}else if(h==i){r[s+1]=i-1;a=true}}a=true;for(var s=r.length-2;s>=0&&a;s-=2){var o=Math.floor(r[s]);var h=Math.floor(r[s+1]);if(o<-1||o>n||h<-1||h>i)throw"Error.checkAndNudgePoints ";a=false;if(-1==o){r[s]=0;a=true}else if(o==n){r[s]=n-1;a=true}if(-1==h){r[s+1]=0;a=true}else if(h==i){r[s+1]=i-1;a=true}}};n.sampleGrid3=function(r,i,a){var s=new t(i);var o=new Array(i<<1);for(var h=0;h<i;h++){var l=o.length;var f=h+.5;for(var w=0;w<l;w+=2){o[w]=(w>>1)+.5;o[w+1]=f}a.transformPoints1(o);n.checkAndNudgePoints(r,o);try{for(var w=0;w<l;w+=2){var u=4*Math.floor(o[w])+Math.floor(o[w+1])*e.width*4;var c=r[Math.floor(o[w])+e.width*Math.floor(o[w+1])];e.imagedata.data[u]=c?255:0;e.imagedata.data[u+1]=c?255:0;e.imagedata.data[u+2]=0;e.imagedata.data[u+3]=255;c&&s.set_Renamed(w>>1,h)}}catch(e){throw"Error.checkAndNudgePoints"}}return s};n.sampleGridx=function(e,t,i,a,s,o,h,l,f,w,u,c,d,v,C,B,E,g){var k=r.quadrilateralToQuadrilateral(i,a,s,o,h,l,f,w,u,c,d,v,C,B,E,g);return n.sampleGrid3(e,t,k)}}.call({});return X}var q={},Z=false;var W="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$g(){if(Z)return q;Z=true;!function(){var e=dew$d();var t=dew$e();var r=dew$f();var n=dew$8();var i=dew$h();q={};var a=q.PerspectiveTransform=function(e,t,r,n,i,s,o,h,l){(this||W).a11=e;(this||W).a12=n;(this||W).a13=o;(this||W).a21=t;(this||W).a22=i;(this||W).a23=h;(this||W).a31=r;(this||W).a32=s;(this||W).a33=l;(this||W).transformPoints1=function(e){var t=e.length;var r=(this||W).a11;var n=(this||W).a12;var i=(this||W).a13;var a=(this||W).a21;var s=(this||W).a22;var o=(this||W).a23;var h=(this||W).a31;var l=(this||W).a32;var f=(this||W).a33;for(var w=0;w<t;w+=2){var u=e[w];var c=e[w+1];var d=i*u+o*c+f;e[w]=(r*u+a*c+h)/d;e[w+1]=(n*u+s*c+l)/d}};(this||W).transformPoints2=function(e,t){var r=e.length;for(var n=0;n<r;n++){var i=e[n];var a=t[n];var s=(this||W).a13*i+(this||W).a23*a+(this||W).a33;e[n]=((this||W).a11*i+(this||W).a21*a+(this||W).a31)/s;t[n]=((this||W).a12*i+(this||W).a22*a+(this||W).a32)/s}};(this||W).buildAdjoint=function(){return new a((this||W).a22*(this||W).a33-(this||W).a23*(this||W).a32,(this||W).a23*(this||W).a31-(this||W).a21*(this||W).a33,(this||W).a21*(this||W).a32-(this||W).a22*(this||W).a31,(this||W).a13*(this||W).a32-(this||W).a12*(this||W).a33,(this||W).a11*(this||W).a33-(this||W).a13*(this||W).a31,(this||W).a12*(this||W).a31-(this||W).a11*(this||W).a32,(this||W).a12*(this||W).a23-(this||W).a13*(this||W).a22,(this||W).a13*(this||W).a21-(this||W).a11*(this||W).a23,(this||W).a11*(this||W).a22-(this||W).a12*(this||W).a21)};(this||W).times=function(e){return new a((this||W).a11*e.a11+(this||W).a21*e.a12+(this||W).a31*e.a13,(this||W).a11*e.a21+(this||W).a21*e.a22+(this||W).a31*e.a23,(this||W).a11*e.a31+(this||W).a21*e.a32+(this||W).a31*e.a33,(this||W).a12*e.a11+(this||W).a22*e.a12+(this||W).a32*e.a13,(this||W).a12*e.a21+(this||W).a22*e.a22+(this||W).a32*e.a23,(this||W).a12*e.a31+(this||W).a22*e.a32+(this||W).a32*e.a33,(this||W).a13*e.a11+(this||W).a23*e.a12+(this||W).a33*e.a13,(this||W).a13*e.a21+(this||W).a23*e.a22+(this||W).a33*e.a23,(this||W).a13*e.a31+(this||W).a23*e.a32+(this||W).a33*e.a33)}};a.quadrilateralToQuadrilateral=function(e,t,r,n,i,a,s,o,h,l,f,w,u,c,d,v){var C=this.quadrilateralToSquare(e,t,r,n,i,a,s,o);var B=this.squareToQuadrilateral(h,l,f,w,u,c,d,v);return B.times(C)};a.squareToQuadrilateral=function(e,t,r,n,i,s,o,h){var l=h-s,f=t-n+s-h;if(0==l&&0==f)return new a(r-e,i-r,e,n-t,s-n,t,0,0,1);var w=r-i,u=o-i,c=e-r+i-o,d=n-s,v=w*l-u*d,C=(c*l-u*f)/v,B=(w*f-c*d)/v;return new a(r-e+C*r,o-e+B*o,e,n-t+C*n,h-t+B*h,t,C,B,1)};a.quadrilateralToSquare=function(e,t,r,n,i,a,s,o){return this.squareToQuadrilateral(e,t,r,n,i,a,s,o).buildAdjoint()};function DetectorResult(e,t){(this||W).bits=e;(this||W).points=t}q.Detector=function(s){(this||W).image=s;(this||W).resultPointCallback=null;(this||W).sizeOfBlackWhiteBlackRun=function(e,t,r,n){var a=Math.abs(n-t)>Math.abs(r-e);if(a){var s=e;e=t;t=s;s=r;r=n;n=s}var o=Math.abs(r-e);var h=Math.abs(n-t);var l=-o>>1;var f=t<n?1:-1;var w=e<r?1:-1;var u=0;for(var c=e,d=t;c!=r;c+=w){var v=a?d:c;var C=a?c:d;1==u?(this||W).image[v+C*i.width]&&u++:(this||W).image[v+C*i.width]||u++;if(3==u){var B=c-e;var E=d-t;return Math.sqrt(B*B+E*E)}l+=h;if(l>0){if(d==n)break;d+=f;l-=o}}var g=r-e;var k=n-t;return Math.sqrt(g*g+k*k)};(this||W).sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,n){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,n);var s=1;var o=e-(r-e);if(o<0){s=e/(e-o);o=0}else if(o>=i.width){s=(i.width-1-e)/(o-e);o=i.width-1}var h=Math.floor(t-(n-t)*s);s=1;if(h<0){s=t/(t-h);h=0}else if(h>=i.height){s=(i.height-1-t)/(h-t);h=i.height-1}o=Math.floor(e+(o-e)*s);a+=this.sizeOfBlackWhiteBlackRun(e,t,o,h);return a-1};(this||W).calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y));var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14};(this||W).calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2};(this||W).distance=function(e,t){var r=e.X-t.X;var n=e.Y-t.Y;return Math.sqrt(r*r+n*n)};(this||W).computeDimension=function(e,t,r,n){var i=Math.round(this.distance(e,t)/n);var a=Math.round(this.distance(e,r)/n);var s=(i+a>>1)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw"Error"}return s};(this||W).findAlignmentInRegion=function(t,r,n,a){var s=Math.floor(a*t);var o=Math.max(0,r-s);var h=Math.min(i.width-1,r+s);if(h-o<3*t)throw"Error";var l=Math.max(0,n-s);var f=Math.min(i.height-1,n+s);var w=new e((this||W).image,o,l,h-o,f-l,t,(this||W).resultPointCallback);return w.find()};(this||W).createTransform=function(e,t,r,n,i){var s=i-3.5;var o;var h;var l;var f;if(null!=n){o=n.X;h=n.Y;l=f=s-3}else{o=t.X-e.X+r.X;h=t.Y-e.Y+r.Y;l=f=s}var w=a.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,l,f,3.5,s,e.X,e.Y,t.X,t.Y,o,h,r.X,r.Y);return w};(this||W).sampleGrid=function(e,t,n){var i=r;return i.sampleGrid3(e,n,t)};(this||W).processFinderPatternInfo=function(e){var t=e.TopLeft;var r=e.TopRight;var i=e.BottomLeft;var a=this.calculateModuleSize(t,r,i);if(a<1)throw"Error";var s=this.computeDimension(t,r,i,a);var o=n.getProvisionalVersionForDimension(s);var h=o.DimensionForVersion-7;var l=null;if(o.AlignmentPatternCenters.length>0){var f=r.X-t.X+i.X;var w=r.Y-t.Y+i.Y;var u=1-3/h;var c=Math.floor(t.X+u*(f-t.X));var d=Math.floor(t.Y+u*(w-t.Y));for(var v=4;v<=16;v<<=1)try{l=this.findAlignmentInRegion(a,c,d,v);break}catch(e){}}var C=this.createTransform(t,r,i,l,s);var B=this.sampleGrid((this||W).image,C,s);var E;E=null==l?new Array(i,t,r):new Array(i,t,r,l);return new DetectorResult(B,E)};(this||W).detect=function(){var e=(new t).findFinderPattern((this||W).image);return this.processFinderPatternInfo(e)}}}.call({});return q}var Q={},H=false;function dew$h(){if(H)return Q;H=true;!function(){var e=dew$c();var t=dew$g().Detector;var r=Q;r.imagedata=null;r.width=0;r.height=0;r.qrCodeSymbol=null;r.debug=false;r.maxImgSize=1024*1024;r.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]];r.decode=function(e,t){if(null==e)throw new Error("Must provide a callback");if(null==t){t=e;e=null}if("function"!==typeof t)throw new Error("Must provide a callback");if(null==e){var n=document.getElementById("qr-canvas");var i=n.getContext("2d");r.width=n.width;r.height=n.height;r.imagedata=i.getImageData(0,0,r.width,r.height);try{r.result=r.process(i);t(null,r.result)}catch(e){t(e)}}else{"string"!==typeof e&&t(new Error("Must provide image source as a URI"));var a=new Image;a.onload=function(){var e=document.createElement("canvas");var n=e.getContext("2d");var i=a.height;var s=a.width;if(a.width*a.height>r.maxImgSize){var o=a.width/a.height;i=Math.sqrt(r.maxImgSize/o);s=o*i}e.width=s;e.height=i;n.drawImage(a,0,0,e.width,e.height);r.width=e.width;r.height=e.height;try{r.imagedata=n.getImageData(0,0,e.width,e.height)}catch(e){r.result=null;t(new Error("Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!"));return}try{r.result=r.process(n)}catch(e){t(e);return}t(null,r.result)};a.src=e}};r.isUrl=function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)};r.decode_url=function(e){var t="";try{t=escape(e)}catch(r){t=e}var r="";try{r=decodeURIComponent(t)}catch(e){r=t}return r};r.decode_utf8=function(e){return r.isUrl(e)?r.decode_url(e):e};r.process=function(n){var i=(new Date).getTime();var a=r.grayScaleToBitmap(r.grayscale());if(r.debug){for(var s=0;s<r.height;s++)for(var o=0;o<r.width;o++){var h=4*o+s*r.width*4;r.imagedata.data[h]=(a[o+s*r.width],0);r.imagedata.data[h+1]=(a[o+s*r.width],0);r.imagedata.data[h+2]=a[o+s*r.width]?255:0}n.putImageData(r.imagedata,0,0)}var l=new t(a);var f=l.detect();r.debug&&n.putImageData(r.imagedata,0,0);var w=e.decode(f.bits);var u=w.DataByte;var c="";for(var d=0;d<u.length;d++)for(var v=0;v<u[d].length;v++)c+=String.fromCharCode(u[d][v]);var C=(new Date).getTime();var B=C-i;console.log(B);return r.decode_utf8(c)};r.getPixel=function(e,t){if(r.width<e)throw"point error";if(r.height<t)throw"point error";var n=4*e+t*r.width*4;var i=(33*r.imagedata.data[n]+34*r.imagedata.data[n+1]+33*r.imagedata.data[n+2])/100;return i};r.binarize=function(e){var t=new Array(r.width*r.height);for(var n=0;n<r.height;n++)for(var i=0;i<r.width;i++){var a=r.getPixel(i,n);t[i+n*r.width]=a<=e}return t};r.getMiddleBrightnessPerArea=function(e){var t=4;var n=Math.floor(r.width/t);var i=Math.floor(r.height/t);var a=new Array(t);for(var s=0;s<t;s++){a[s]=new Array(t);for(var o=0;o<t;o++)a[s][o]=new Array(0,0)}for(var h=0;h<t;h++)for(var l=0;l<t;l++){a[l][h][0]=255;for(var f=0;f<i;f++)for(var w=0;w<n;w++){var u=e[n*l+w+(i*h+f)*r.width];u<a[l][h][0]&&(a[l][h][0]=u);u>a[l][h][1]&&(a[l][h][1]=u)}}var c=new Array(t);for(var d=0;d<t;d++)c[d]=new Array(t);for(var h=0;h<t;h++)for(var l=0;l<t;l++)c[l][h]=Math.floor((a[l][h][0]+a[l][h][1])/2);return c};r.grayScaleToBitmap=function(e){var t=r.getMiddleBrightnessPerArea(e);var n=t.length;var i=Math.floor(r.width/n);var a=Math.floor(r.height/n);var s=new Array(r.height*r.width);for(var o=0;o<n;o++)for(var h=0;h<n;h++)for(var l=0;l<a;l++)for(var f=0;f<i;f++)s[i*h+f+(a*o+l)*r.width]=e[i*h+f+(a*o+l)*r.width]<t[h][o];return s};r.grayscale=function(){var e=new Array(r.width*r.height);for(var t=0;t<r.height;t++)for(var n=0;n<r.width;n++){var i=r.getPixel(n,t);e[n+t*r.width]=i}return e};r.orderBestPatterns=function(e){function distance(e,t){var r=e.X-t.X;var n=e.Y-t.Y;return Math.sqrt(r*r+n*n)}function crossProductZ(e,t,r){var n=t.x;var i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)}var t=distance(e[0],e[1]);var r=distance(e[1],e[2]);var n=distance(e[0],e[2]);var i,a,s;if(r>=t&&r>=n){a=e[0];i=e[1];s=e[2]}else if(n>=r&&n>=t){a=e[1];i=e[0];s=e[2]}else{a=e[2];i=e[0];s=e[1]}if(crossProductZ(i,a,s)<0){var o=i;i=s;s=o}e[0]=i;e[1]=a;e[2]=s}}.call({});return Q}var K=dew$h();export default K;export{dew$h as __dew};

